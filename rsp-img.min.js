let ri=r=>{r.ri=new ResizeObserver(e=>{requestAnimationFrame(()=>{r.sizes=e[0].contentRect.width+"px"})}),r.ri.observe(r)};new MutationObserver(e=>{for(var r of e)if("childList"===r.type){for(var o of r.addedNodes)"IMG"===o.nodeName&&!o.ri&&o.srcset&&ri(o);for(var i of r.removedNodes)"IMG"===i.nodeName&&i.ri&&i.ri.disconnect()}}).observe(document.documentElement,{childList:!0,subtree:!0}),document.querySelectorAll("img[srcset]").forEach(ri);