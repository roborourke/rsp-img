class RSPImg extends HTMLImageElement{constructor(){super()}connectedCallback(){if(this.srcset||this.dataset.srcset){var e=this.srcset||this.dataset.srcset;this.srcset="";let t=e.split(",").map(e=>{var[e="",s=""]=e.trim().split(" ");let t=parseFloat(s);return 0<=s?.indexOf("x")&&(t=Math.floor((this.width||this.clientWidth||1)*t)),{url:e.trim(),size:t}}).sort((e,s)=>e.size<s.size?1:e.size>s.size?-1:0),i=t[0].url;this.resizeObserver=new ResizeObserver(s=>{requestAnimationFrame(()=>{for(var e of t)s[0].devicePixelContentBoxSize[0].inlineSize<=e.size&&(i=e.url);this.src=i})}),this.resizeObserver.observe(this)}}disconnectedCallback(){this.resizeObserver&&this.resizeObserver.disconnect()}}customElements.define("rsp-img",RSPImg,{extends:"img"});